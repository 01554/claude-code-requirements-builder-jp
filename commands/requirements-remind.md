# 要件収集リマインダー

要件収集ルールから逸脱した際の迅速な修正。

## エイリアス:
- /requirements-remind
- /remind  
- /r

## 手順:

1. requirements/.current-requirement をチェック
2. アクティブな要件がない場合:
   - "アクティブな要件収集セッションがありません" と表示
   - 終了

3. 現在のコンテキストに基づいてリマインダーを表示:

```
🔔 要件収集リマインダー

要件収集中: [active-requirement]
現在のフェーズ: [初期セットアップ/コンテキスト発見/ターゲットコンテキスト/エキスパート要件]  
進捗: [X/Y 質問]

📋 フェーズ別ルール:

フェーズ 2 - コンテキスト発見:
- ✅ 問題領域について5つのyes/no質問を行う
- ✅ プロダクトマネージャー向けの質問（コード知識不要）
- ✅ 技術的詳細ではなくユーザーワークフローに焦点を当てる
- ✅ 質問する前にすべての質問を書く
- ✅ すべての質問を聞いてから回答を記録する

フェーズ 3 - ターゲットコンテキスト（自律的）:
- ✅ RepoPromptツールを使用してコードを検索・読み込む
- ✅ 類似機能とパターンを分析
- ✅ コンテキストファイルに発見事項を文書化
- ❌ このフェーズ中はユーザーとの対話なし

フェーズ 4 - エキスパート要件:
- ✅ 5つの詳細なyes/no質問を行う
- ✅ コードを知らないPMに話すような質問
- ✅ 期待されるシステム動作を明確化
- ✅ 関連する場合は特定のファイルを参照
- ✅ すべての質問を聞いてから回答を記録する

🚫 一般ルール:
1. ❌ コーディングや実装を開始しない
2. ❌ オープンエンドな質問をしない
3. ❌ フェーズ内のすべての質問を聞くまで回答を記録しない
4. ❌ フェーズごとに5つを超える質問をしない

📍 現在の状態:
- 最後の質問: [最後の質問を表示]
- ユーザーの回答: [保留中/回答済み]
- 次のアクション: [5つのうちX番目の質問を続ける]

現在の質問を続けるか、ファイルから次の質問を読んでください。
```

## よくある修正シナリオ:

### オープンエンドな質問をした場合:
"yes/no質問として言い直させてください..."

### 複数の質問をした場合:
"一度に1つの質問をさせてください..."

### 実装を開始した場合:
"申し訳ありません。要件収集を続けさせてください..."

### デフォルトを提供しなかった場合:
"その質問にデフォルトを追加させてください..."

## 自動トリガーパターン:
- コードブロックを検出 → 実装なしを再通知
- 応答に複数の「？」→ 1つの質問を再通知
- 100語を超える応答 → 簡潔さを再通知
- オープンエンドな単語（「何」、「どのように」）→ yes/noのみを再通知